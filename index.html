<!DOCTYPE html>
<html>

<head>


    <body onload="initialize()">
        <script>
            function initialize() {
                retrieveContacts();
            }

            function retrieveContacts() {
                const xhr = new XMLHttpRequest();
                const url = "contacts.json";

                xhr.onreadystatechange = function() {
                    if (xhr.readyState === 4) {
                        var contacts = JSON.parse(xhr.response).contacts;
                        contacts.foreach(addRow)

                    }
                };

                xhr.open("get", url);
                xhr.send();
            }
            /*
                        function displayContacts(contacts) {
                            contacts.forEach(addRow);
                        }

                        function addRow(contact) {
                            var tcontent = document.getElementById("tcontent");
                            var row = tcontent.insertRow();

                            var nameCell = row.insertCell();
                            nameCell.innerHTML = contact.name;

                            var addressCell = row.insertCell();
                            addressCell.innerHTML = contact.address;

                            var mobileCell = row.insertCell();
                            mobileCell.innerHTML = contact.phone.mobile;


                        }
                        */


            function addRow(contact) {
                var tcontent = document.getElementById("tcontent");
                var row = tcontent.insertRow();

                var fristcell = row.insertCell();
                fristcell.innerHTML = contact.phone.mobile;

                var secountcell = row.insertCell();
                secountcell.innerHTML = contact.phone.home;

                var thirdcell = row.insertCell();
                thirdcell.innerHTML = contact.phone.office;
            }
        </script>

        <table>
            <caption>
            </caption>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Address</th>
                    <th>Mobile</th>
                </tr>
            </thead>
            <tbody id="tcontent">
            </tbody>

        </table>

    </body>

</html>
